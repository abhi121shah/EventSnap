<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Face Matching Photo Sorter with AI Enhancement</title>
   <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="video-background">
        <video autoplay loop muted plays-inline class="background-clip">
            <source src="https://drive.google.com/file/d/1iZ7_wS_8XeZ_aoznO9huaHHeEb3y8fkK/view?usp=sharing" type="video/mp4">
        </video>
    </div>

    <div class="container"> 
        <div class="header">
            <h1>AI-Powered Face Matching & Enhancement</h1>
            <p>Upload, match, and enhance photos automatically</p>
            <span class="badge">NEW: AI Photo Enhancement</span>
        </div>

        <div class="content">
            <div class="upload-section">
                <h3>ðŸ“¸ Step 1: Upload Reference Image(s)</h3>
                <p>Select one or more photos of the person you want to find. Multiple images improve accuracy!</p>
                <div class="file-input-wrapper">
                    <input type="file" id="referenceInput" accept="image/*" multiple>
                    <label for="referenceInput" class="file-input-label">
                        Choose Reference Photos
                    </label>
                </div>
                <div id="referenceInfo" class="file-info" style="display:none;"></div>
                <div id="referencePreview" class="preview-container"></div>
            </div>

            <div class="upload-section">
                <h3>Upload Photos to Search</h3>
                <p>Select all the photos you want to search through for matching faces.</p>
                <div class="file-input-wrapper">
                    <input type="file" id="photosInput" accept="image/*" multiple>
                    <label for="photosInput" class="file-input-label">
                        Choose Photos to Search
                    </label>
                </div>
                <div id="photosInfo" class="file-info" style="display:none;"></div>
            </div>

            <div class="settings-section">
                <h3>Settings</h3>
                
                <div class="setting-item">
                    <label>Match Strictness (lower = stricter matching)</label>
                    <div class="slider-container">
                        <span>Strict</span>
                        <input type="range" id="toleranceSlider" min="0.30" max="0.60" step="0.05" value="0.40">
                        <span>Lenient</span>
                        <span class="slider-value" id="toleranceValue">0.40</span>
                    </div>
                </div>

                <div class="setting-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="useCNN" checked>
                        <label for="useCNN">Use Advanced AI Model (more accurate but slower)</label>
                    </div>
                </div>

                <div class="setting-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="qualityCheck" checked>
                        <label for="qualityCheck">Skip low quality/blurry images</label>
                    </div>
                </div>

                <div class="setting-item">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="enableEnhancement" checked>
                        <label for="enableEnhancement">âœ¨ Enable AI Photo Enhancement (BETA)</label>
                    </div>
                    <div id="enhancementOptions" class="enhancement-options active">
                        <div class="enhancement-option">
                            <input type="checkbox" id="enhanceBrightness" checked>
                            <label for="enhanceBrightness">Auto-brightness correction</label>
                        </div>
                        <div class="enhancement-option">
                            <input type="checkbox" id="enhanceContrast" checked>
                            <label for="enhanceContrast">Enhance contrast</label>
                        </div>
                        <div class="enhancement-option">
                            <input type="checkbox" id="enhanceSaturation" checked>
                            <label for="enhanceSaturation">Color enhancement</label>
                        </div>
                        <div class="enhancement-option">
                            <input type="checkbox" id="enhanceSharpness" checked>
                            <label for="enhanceSharpness">Sharpen details</label>
                        </div>
                        <div class="enhancement-option">
                            <input type="checkbox" id="enhanceNoise">
                            <label for="enhanceNoise">Noise reduction (slower)</label>
                        </div>
                    </div>
                </div>
            </div>

            <button class="process-btn" id="processBtn" disabled>
                Start Processing
            </button>

            <div class="progress-section" id="progressSection">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill">0%</div>
                </div>
                <div style="text-align: center; color: #667eea; font-weight: 600;">
                    <span class="spinner"></span>
                    <span id="progressText">Processing...</span>
                </div>
            </div>

            <div class="log-section" id="logSection"></div>

            <div class="results-section" id="resultsSection">
                <h3>âœ… Processing Complete!</h3>
                <div class="stats">
                    <div class="stat-card">
                        <div class="number" id="totalPhotos">0</div>
                        <div class="label">Total Photos</div>
                    </div>
                    <div class="stat-card">
                        <div class="number" id="matchedPhotos">0</div>
                        <div class="label">Matches Found</div>
                    </div>
                    <div class="stat-card">
                        <div class="number" id="enhancedPhotos">0</div>
                        <div class="label">Enhanced</div>
                    </div>
                    <div class="stat-card">
                        <div class="number" id="successRate">0%</div>
                        <div class="label">Success Rate</div>
                    </div>
                </div>
                <div class="download-buttons">
                    <button class="download-btn original" id="downloadOriginalBtn">
                        ðŸ“¥ Download Original Photos
                    </button>
                    <button class="download-btn enhanced" id="downloadEnhancedBtn" style="display:none;">
                        âœ¨ Download Enhanced Photos
                    </button>
                </div>
                
                <div class="share-section" style="margin-top: 20px;">
                    <h4 style="color: #667eea; margin-bottom: 15px;">ðŸ”— Share Your Results</h4>
                    <div class="share-buttons" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <button class="share-btn" id="shareOriginalBtn" onclick="sharePhotos(false)">
                            ðŸ”— Share Original Photos
                        </button>
                        <button class="share-btn" id="shareEnhancedBtn" onclick="sharePhotos(true)" style="display:none;">
                            âœ¨ Share Enhanced Photos
                        </button>
                    </div>
                    <div id="shareResult" class="share-result"></div>
                </div>
                <div class="matched-gallery" id="matchedGallery"></div>
            </div>
        </div>

        <div class="footer">
            <p>Created by Arpit, Abhijeet & Krishna | Powered by face-api.js & AI Enhancement</p>
        </div>
    </div> <div class="modal" id="comparisonModal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">&times;</span>
            <h2 style="margin-bottom: 20px;">Before & After Comparison</h2>
            <div id="comparisonContent"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    
<script src="script.js"></script>
</body>
</html>

